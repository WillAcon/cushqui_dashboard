import{w as a}from"./singletons.24c48214.js";function r(e){if(typeof document<"u"){const n=document.cookie.split(";").find(i=>i.trim().startsWith(`${e}=`));if(n)return n.split("=")[1]}return null}function p(e,o,n={}){if(typeof document<"u"){const{maxAge:i,path:c,domain:d,secure:k}=n;let t=`${e}=${o}`;i&&(t+=`; max-age=${i}`),c&&(t+=`; path=${c}`),d&&(t+=`; domain=${d}`),k&&(t+="; secure"),document.cookie=t}}function u(e){return typeof window<"u"&&window.localStorage?window.localStorage.getItem(e):null}function w(e,o){typeof window<"u"&&window.localStorage&&window.localStorage.setItem(e,o)}const y=u("sidebar")||"",m=/true/i.test(y);console.log("myStorage",m);const f=a(m);f.subscribe(e=>{w("sidebar",e)});const _=r("sidebar_uno")||"",b=/true/i.test(_),l=a(b);l.subscribe(e=>{console.log("open_ew",e),p("sidebar_uno",e)});function g(){console.log("updateCart");const e=r("sidebar_uno");if(e){const o=/true/i.test(e);l.set(o)}}g();const V=u("color-theme")||"light",s=a(V);s.subscribe(e=>{w("color-theme",e)});typeof window<"u"&&(console.log("open_ew 36666"),window.addEventListener("storage",e=>{console.log("open_ew EVENT",e),e.key==="sidebar_uno"&&l.set(/true/i.test(e.newValue)),e.key==="sidebar"&&(f.set(/true/i.test(e.newValue)),g()),e.key==="color-theme"&&(console.log("event.key",e.key),e.oldValue==="dark"?(console.log("newValue.key",e.newValue),window.document.documentElement.classList.remove("dark"),window.document.documentElement.classList.add("light"),s.set(e.newValue)):(console.log("newValue.keyaaaaas",e.newValue),window.document.documentElement.classList.remove("light"),window.document.documentElement.classList.add("dark"),s.set(e.newValue)))}));export{l as a,f as o};
